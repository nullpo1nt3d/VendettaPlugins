(function(i,t,a,e){"use strict";const d=t.findByProps("setShouldSyncAppearanceSettings"),s=t.find(function(n){return n.default?.canUseClientThemes}),r=t.findByProps("updateBackgroundGradientPreset"),{ClientThemesNewThemesExperiment:o}=t.findByProps("ClientThemesNewThemesExperiment"),{ClientThemesMobileExperiment:u}=t.findByProps("ClientThemesMobileExperiment");e.storage.isEnabled??=!1,o&&(o.getCurrentConfig().hasNewClientThemes=!0),u&&(u.getCurrentConfig().hasClientThemes=!0),d.setShouldSyncAppearanceSettings(!1),e.storage.theme&&e.storage.isEnabled&&r.updateBackgroundGradientPreset(e.storage.theme),s.default={...s.default};const c=[a.instead("setShouldSyncAppearanceSettings",d,function(){return!e.storage.isEnabled}),a.instead("canUseClientThemes",s.default,function(){return!0}),a.after("updateMobilePendingThemeIndex",r,function(n){e.storage.isEnabled=n[0]>1}),a.after("updateBackgroundGradientPreset",r,function(n){e.storage.theme=n[0]})],f=function(){return c.forEach(function(n){return n()})};return i.onUnload=f,i})({},vendetta.metro,vendetta.patcher,vendetta.plugin);
